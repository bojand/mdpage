## Configuration

Configs **must** be located in the root folder, and named either `mdpage.json` or `mdpage.toml`. 
`mdpage.json` takes precedence.

Other than top-level strings in the config, there are two main object types part of the configuration.
There are "Link" objects used in the `"links"` property to specify script or style links.
There are also "Content" objects which are used to specify the main page, header, footer, and the different contents and menu items.

#### Link

Links have the following properties:

- `link_type` - has to be either `"script"` for a script link; or `"style"` or `"stylesheet"` to specify a stylesheet link.
- `src` - the URL to be applied to the `<link>` element
- `integrity` - the `integrity` tag to be applied for SRI
- `crossorigin` - the `crossorigin` tag to be applied for SRI

#### Content

The content object has the following properties:

- `is_heading` - A boolean flag to specify that the object is a heading in the menu. In this case it must have `"label"` specified to be displayed in the menu.
- `is_break` - A boolean flag to specify a line break in the menu.
- `label` - The string to be used as label for the content in the menu.
- `url` - The URL for an external link. If specified the menu will be a link to this URL.
- `markdown` - The optional raw markdown to be converted into HTML for the content. Usually this would be read from a file.
- `html` - The raw markdown to be converted into HTML for the content. This is generated by converting the `markdown` contents.
- `file` - The markdown or HTML file used for the content. We read this into `markdown` property and convert it to HTML content to be displayed. If `label` is not specified, we also infer the title for the content from the heading in markdown content.
- `dir` - As an alternative to `file` we can specify the directory path used to build contents. The content will be sourced from all the files and immediate subdirectories in the path.

#### Main

The `main` config property is the main content. We automatically infer this from `readme.md` or `index.md` in the root folder, but it can be customized.

#### Header

The `header` config property is the custom header content to be displayed at the top of the page. We automatically build this based on "title" (which we infer from main file or root directory) and "subtitle". If root folder has `header.md` that is automatically used as header property of the config if one is not specified. The header can be customized using `header` property to center content or add logos or custom buttons.

#### Footer

The `footer` config property is the custom footer content to be displayed at the top of the page. If root folder has `footer.md` that is automatically used as footer property of the config if one is not specified. The footer can be customized using `footer` property to center content or add logos or custom buttons.

#### Style

Custom styles can be added within the `style` property. We use a forked / customized version of [Milligram](https://milligram.io/) so all the same classes are available in markdown and HTML content.

#### Script

Custom JavaScript can be added within the `script` config property.

### Examples

```json
{
    "label": "Reference",
    "is_heading: true
}
```

This will create a "REFERENCE" heading in the menu to separate a section of menu items.

```json
{
    "file": "guide.md"
}
```

And `guide.md` starts with `# User's Guide` markdown content.
This will create a menu item with label "User's Guide" and the content for that menu item will be the converted content of the file. We can customize the label using `label` property:

```json
{
    "label": "Guide",
    "file": "guide.md"
}
```

We can also explicitely use HTML files, which will be included in the result:

```json
{
    "label": "HTML content",
    "file": "page.html"
}

A custom header can be created with custom logo using something like this in `header.md`:

```markdown
<center>
<a href="/">
<img src="static/logo.png" width="96" height="96">

<br>
<br>

# My Project

##### Some title
</a>

<a class="button button-outline" href="https://github.com/my/link">GITHUB</a>
</center>
```

Example config with descriptions.

```toml
full_page = false       # whether to do full page or not
title = "My Document"   # title used in header and title of the document
subtitle = "Something"  # subtitle used in header
author = "Joe Smith"    # author used in metadata
icon = "favicon.ico"    # favicon link

# We can add several links to be used in the head of the document
# This can be used to add extra scripts or styles, such as highlight.js
# Script properties can have SRI fields for "integrity" and "crossorigin"
[[links]]
link_type = "script"    # link_type has to be either "script" or "style" or "stylesheet"
src = "https://cdnjs.example.com/highlight.min.js"
integrity = "sha256-1zu+3BnLYV9LdiY85uXMzii="
crossorigin = "anonymous"

[[links]]
link_type = "script"
src = "https://cdnjs.example.com/json.min.js"

[[links]]
link_type = "style"
src = "https://cdnjs.example.com/styles/github.min.css"

# We can specify a script to be run when document is loaded
script = "(function () { hljs.initHighlightingOnLoad(); })()"

# We can specify custom style which will be applied as well
style = "body { color: #222222; }"

# This is the main page. 
# We automatically look for index.md or readme.md
[main]
file = "main.md"

# Footer
# Content can have markdown directly which we convert to HTML
[footer]
markdown = "<center>### My footer</center>"

# These are the contents. The order determines the order of menu items.

# This is a heading of a section in the menu
[[contents]]
label = "Heading"
is_heading = true

[[contents]]
label = "Home"      # Custom label otherwise we infer it from file contents
file = "index.md"

[[contents]]
file = "install.md"

# We can have raw markdown
[[contents]]
label = "Raw Markdown"  
markdown = """
## Raw content\n\n \
We can specify markdown content like this.\
"""

# We can have raw HTML
[[contents]]
label = "Raw HTML"
html = """
<h1>Some HTML Content</h1> \
<h4>Some content.</h4> \
<img src=\"http://placekitten.com/200/200\"> \
<br><br> \
<p>This is paragraph of raw HTML content.</p>\
"""

# This will add a line break in the menu so we can start another section
[[contents]]
is_break = true

[[contents]]
label = "Links"
is_heading = true

[[contents]]
label = "External Link"
url = "https://github.com"      # An external link
```